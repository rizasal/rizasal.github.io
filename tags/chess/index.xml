<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>chess on Riza S</title><link>https://rizasal.github.io/tags/chess/</link><description>Recent content in chess on Riza S</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 10 Aug 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://rizasal.github.io/tags/chess/index.xml" rel="self" type="application/rss+xml"/><item><title>Representing a Chess Board</title><link>https://rizasal.github.io/posts/2020-08-10-chess/</link><pubDate>Mon, 10 Aug 2020 00:00:00 +0000</pubDate><guid>https://rizasal.github.io/posts/2020-08-10-chess/</guid><description>&lt;img src="https://rizasal.github.io/posts/2020-08-10-chess/images/chess_1.png" alt="Featured image of post Representing a Chess Board" />&lt;p>Making a game of chess is a daunting task. Especially if it is to be online and multiplayer.
It is not feasible to send the entire board object around and we need a way to send individual piece movements.&lt;/p>
&lt;p>One of the ways to do that is the Forsynth-Edwards Notation aka FEN string. A beautiful way to represent the board in a one line ASCII string. It is widely used to record chess games and start from different initial positions
or even the middle of a game.&lt;/p>
&lt;p>For those who are more interested in programming chess rather than playing it, The columns are represented by alphabets (a-h) and is called a &amp;lsquo;File&amp;rsquo;. The rows are represented by digits (1-8) and is called a &amp;lsquo;Rank&amp;rsquo;.&lt;/p>
&lt;figure>&lt;img src="https://rizasal.github.io/chess/chess_1.png"/>&lt;figcaption>
&lt;h4>Starting Position of the Chess Board&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>Below is the entire FEN for the starting position of the chess board.&lt;/p>
&lt;blockquote>
&lt;p>rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&lt;/p>
&lt;/blockquote>
&lt;p>Cool right. No large objects to pass around the internet. Yay.
Let me start by explaining what each of these alphabets and digits stand for.&lt;/p>
&lt;p>The lowercase letters represent the black pieces and the uppercase ones represent the white pieces.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">R - rook, Q - Queen, K - King, B - Bishop, N - Knight, P - pawn
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The grammar for the FEN notation is as follows. There&amp;rsquo;s 6 parts to the FEN string, each separated by spaces.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&amp;lt;Piece Placement&amp;gt; &amp;lt;Side to move&amp;gt; &amp;lt;Castling ability&amp;gt;
&amp;lt;En passant target square&amp;gt; &amp;lt;Halfmove clock&amp;gt; &amp;lt;Fullmove counter&amp;gt;
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="piece-placement">Piece Placement&lt;/h2>
&lt;p>Let&amp;rsquo;s look at the first part of the initial position string again.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR - Piece Placement Part
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The first portion of this string represents the 8th row of the chess board, aka rank8 , the next portion being the row with all pawns which is rank 7 and so on with each portion separated by a &amp;lsquo;/&amp;rsquo;. The digit 8 represents a completely empty row.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&amp;lt;Piece Placement&amp;gt; ::= &amp;lt;rank8&amp;gt;&amp;#39;/&amp;#39;&amp;lt;rank7&amp;gt;&amp;#39;/&amp;#39;...&amp;#39;/&amp;#39;&amp;lt;rank1&amp;gt;
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="representing-a-rank-aka-row">Representing A Rank aka Row&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&amp;lt;rank&amp;gt; ::= [Any digit btw 1-7] &amp;lt;Any piece&amp;gt; [Any digit btw 1-7]
or
&amp;lt;rank&amp;gt; ::= &amp;#39;8&amp;#39;
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Any of the three fields in the first definition of rank can be left empty. The digits stand for empty spaces. So a 2 would mean two consecutive squares are left blank. If the rank starts with a piece it means that the piece is placed at the first column aka File. A digit, say n, followed by a piece, say p, denotes n blank columns and then a black pawn(&amp;lsquo;p&amp;rsquo; stands for pawn).&lt;/p>
&lt;p>The digit piece combo can be repeated as many times.
/4pp2/ means 4 empty columns, two black pawns and then 2 empty spaces
If the rank is 8, then it stands for a completely empty row with no pieces.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">8/8/8/4pp2/8/8/8/8
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Would result in&lt;/p>
&lt;figure>&lt;img src="https://rizasal.github.io/chess/chess_2.png"/>&lt;figcaption>
&lt;h4>Top 3 rows are represented by 8/8/8. The next row(rank 5) is represented by 4pp2&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;!-- raw HTML omitted -->
&lt;h2 id="side-to-move">Side To Move&lt;/h2>
&lt;p>The next part in the FEN string is the side to move part could be one of either &amp;lsquo;w&amp;rsquo; (white) or &amp;lsquo;b&amp;rsquo; (black) indicating whose turn is next.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="castling-ability">Castling ability&lt;/h2>
&lt;p>&lt;em>The Castling Rights specify whether both sides are principally able to castle king- or queen side, now or later during the game - whether the involved pieces have already moved or in case of the rooks, were captured&lt;/em>&lt;/p>
&lt;p>Castling ability represents the &lt;a class="link" href="https://medium.com/r/?url=https%3A%2F%2Fwww.chessprogramming.org%2FCastling_Rights" target="_blank" rel="noopener"
>castling rights&lt;/a>, which does not actually mean whether a castle is possible right now or not but indicates whether the player lost the castling rights during the game so far.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">K - King side White Castling, Q - Queen side white castling,
k - King side black Castling , q - queen side black castling.
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>If the castling right is lost, it is represented by a &amp;lsquo;-&amp;rsquo;.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="en-passant">En-Passant&lt;/h2>
&lt;p>En passant is a special pawn capture move that make programming chess especially difficult, making us require a special field for it in our FEN string.&lt;/p>
&lt;figure>&lt;a href="https://commons.wikimedia.org/wiki/File:En_passant.gif">&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/En_passant.gif/512px-En_passant.gif" width="512"/>&lt;/a>&lt;figcaption>
&lt;h4>En-passant Move&lt;/h4>&lt;p>
&lt;a href="https://commons.wikimedia.org/wiki/File:En_passant.gif">Calusarul / CC BY-SA&lt;/a>&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&amp;lt;En passant target square&amp;gt; ::= &amp;#39;-&amp;#39; | &amp;lt;epsquare&amp;gt;
&amp;lt;epsquare&amp;gt; ::= &amp;lt;fileLetter&amp;gt; &amp;lt;eprank&amp;gt;
&amp;lt;fileLetter&amp;gt; ::= &amp;#39;a&amp;#39; | &amp;#39;b&amp;#39; | &amp;#39;c&amp;#39; | &amp;#39;d&amp;#39; | &amp;#39;e&amp;#39; | &amp;#39;f&amp;#39; | &amp;#39;g&amp;#39; | &amp;#39;h&amp;#39;
&amp;lt;eprank&amp;gt; ::= &amp;#39;3&amp;#39; | &amp;#39;6&amp;#39; (The two ranks where en-passant is possible)
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The en-passant part of the FEN string is set to &amp;lsquo;-&amp;rsquo; if the previous move is not a double push of a pawn (Movement of two squares from the starting position). If it is, regardless of whether en-passant is possible or not, it is set to the rank just below (above for black) the pawn that was double pushed, indicating that an en passant move to that square is possible.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="half-move-clock">Half Move Clock&lt;/h2>
&lt;p>Unless there is a pawn move or a capture, this counter is incremented. When it hits fifty, the game is called a draw (&lt;a class="link" href="https://en.wikipedia.org/wiki/Fifty-move_rule" target="_blank" rel="noopener"
>Fifty Move Rule&lt;/a>).&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="full-move-counter">Full Move Counter&lt;/h2>
&lt;p>It starts at 1, and is incremented each time Black moves.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Thus we have it, A complete chess board representation in FEN.&lt;/p></description></item></channel></rss>